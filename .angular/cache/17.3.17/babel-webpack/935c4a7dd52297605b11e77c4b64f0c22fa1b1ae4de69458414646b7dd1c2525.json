{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst MINI_GAMES = [{\n  id: 1,\n  title: 'Spel 1',\n  route: '/game/1'\n}, {\n  id: 2,\n  title: 'Spel 2',\n  route: '/game/2'\n}, {\n  id: 3,\n  title: 'Spel 3',\n  route: '/game/3'\n}];\nconst STORAGE_KEY = 'svenophone-progress';\nexport let GameStateService = /*#__PURE__*/(() => {\n  class GameStateService {\n    constructor() {\n      this.miniGames = MINI_GAMES;\n      this.completed = new Set();\n      this.loadState();\n    }\n    isGameCompleted(gameId) {\n      return this.completed.has(gameId);\n    }\n    isGameUnlocked(gameId) {\n      if (gameId === 1) {\n        return true;\n      }\n      return this.isGameCompleted(gameId - 1);\n    }\n    markGameCompleted(gameId) {\n      if (!gameId) {\n        return;\n      }\n      this.completed.add(gameId);\n      this.saveState();\n    }\n    saveState() {\n      if (typeof localStorage === 'undefined') {\n        return;\n      }\n      try {\n        const payload = JSON.stringify({\n          completed: Array.from(this.completed)\n        });\n        localStorage.setItem(STORAGE_KEY, payload);\n      } catch (err) {\n        // Best effort persistence; ignore storage errors.\n        console.warn('Kon de spelvoortgang niet opslaan', err);\n      }\n    }\n    loadState() {\n      if (typeof localStorage === 'undefined') {\n        return;\n      }\n      try {\n        const raw = localStorage.getItem(STORAGE_KEY);\n        if (!raw) {\n          return;\n        }\n        const parsed = JSON.parse(raw);\n        (parsed.completed ?? []).forEach(id => this.completed.add(id));\n      } catch {\n        // Ignore malformed persisted data.\n      }\n    }\n    static {\n      this.ɵfac = function GameStateService_Factory(t) {\n        return new (t || GameStateService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: GameStateService,\n        factory: GameStateService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return GameStateService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}