<div class="app-shell">
  <div class="monitor">
    <div class="monitor__frame">
      <header class="monitor__header">
        <div class="monitor__badge">
          <img src="assets/images/logo_sven.png" alt="Sven-o-phone logo" class="monitor__logo-img" />
          <div class="monitor__brand">Sven-o-phone</div>
        </div>
        <div class="monitor__signal" [attr.data-strength]="signalBars">
          <span class="signal-bar" [class.active]="signalBars >= 1"></span>
          <span class="signal-bar" [class.active]="signalBars >= 2"></span>
          <span class="signal-bar" [class.active]="signalBars >= 3"></span>
        </div>
      </header>

      <main class="monitor__display">
        <router-outlet></router-outlet>
      </main>

      <footer class="monitor__footer">
        <div class="monitor__speaker" [class.monitor__speaker--pulse]="speakerPulse">
          <div class="monitor__speaker-bars" *ngIf="speakerPulse">
            <span class="eq-bar" *ngFor="let bar of eqBars" [style.--i]="bar" [class.eq-bar--active]="speakerPulse"></span>
          </div>
        </div>
        <div class="footer-buttons">
          <button class="monitor__chip" type="button" (click)="triggerPulse()">Live meeluisteren</button>
          <button class="monitor__chip" type="button" (click)="openLiveVideo()">Live meekijken</button>
          <button
            class="monitor__chip"
            type="button"
            (click)="toggleMusic()"
            [attr.aria-label]="soundtrack.isPlaying() ? 'Muziek pauzeren' : 'Muziek hervatten'"
          >
            {{ musicIcon() }}
          </button>
        </div>
      </footer>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="showLiveVideo">
  <div class="dialog dialog--video">
    <h3>Live meekijken met Sven</h3>
    <video
      #liveVideo
      src="assets/video/video.mp4"
      controls
      autoplay
      muted
      class="live-video"
    ></video>
    <button class="btn btn--primary" type="button" (click)="closeLiveVideo()">Sluiten</button>
  </div>
</div>
